<!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="javaScript,"><meta name="description" content="遍历器遍历(Iterator)(一般不直接用)支持遍历器的数据结构,具有Symbol.iterator属性.调用该接口可以返回一个遍历器对象 原生支持的数据结构  数组 Map Set 字符串 TypedArray 类数组对象中的arguments, NodeList对象 Generator对象  遍历方式 1234567var $iterator &#x3D; ITERABLE[Symbol.iterat"><meta property="og:type" content="article"><meta property="og:title" content="从遍历方式讲遍历"><meta property="og:url" content="http://yoursite.com/2020/04/01/%E4%BB%8E%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%E8%AE%B2%E9%81%8D%E5%8E%86/index.html"><meta property="og:site_name" content="Kur1ko,"><meta property="og:description" content="遍历器遍历(Iterator)(一般不直接用)支持遍历器的数据结构,具有Symbol.iterator属性.调用该接口可以返回一个遍历器对象 原生支持的数据结构  数组 Map Set 字符串 TypedArray 类数组对象中的arguments, NodeList对象 Generator对象  遍历方式 1234567var $iterator &#x3D; ITERABLE[Symbol.iterat"><meta property="article:published_time" content="2020-04-01T01:07:23.000Z"><meta property="article:modified_time" content="2020-04-01T04:37:34.023Z"><meta property="article:author" content="kur1ko Sheng"><meta property="article:tag" content="javaScript"><meta name="twitter:card" content="summary"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"kur1ko"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://yoursite.com/2020/04/01/从遍历方式讲遍历/"><title>从遍历方式讲遍历 | Kur1ko,</title><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div> <a href="https://github.com/Kur1ko" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Kur1ko,</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">知其然然后知其所以然,</p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-chain"></i><br> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-list"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/01/%E4%BB%8E%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%E8%AE%B2%E9%81%8D%E5%8E%86/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="kur1ko Sheng"><meta itemprop="description" content=""><meta itemprop="image" content="/images/image.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Kur1ko,"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">从遍历方式讲遍历</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-01T09:07:23+08:00">2020-04-01</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/javaScript/" itemprop="url" rel="index"><span itemprop="name">javaScript</span></a></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">491 字</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">1 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><h3 id="遍历器遍历-Iterator-一般不直接用"><a href="#遍历器遍历-Iterator-一般不直接用" class="headerlink" title="遍历器遍历(Iterator)(一般不直接用)"></a>遍历器遍历(Iterator)(一般不直接用)</h3><p>支持遍历器的数据结构,具有Symbol.iterator属性.<strong>调用该接口可以返回一个遍历器对象</strong></p><p><strong>原生支持的数据结构</strong></p><ol><li>数组</li><li>Map</li><li>Set</li><li>字符串</li><li>TypedArray</li><li>类数组对象中的arguments, NodeList对象</li><li>Generator对象</li></ol><p>遍历方式</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $iterator = ITERABLE[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="keyword">var</span> $result = $iterator.next();</span><br><span class="line"><span class="keyword">while</span>(!$result.done)&#123;</span><br><span class="line">    <span class="keyword">var</span> x = result.value;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    $result = $result.next();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为对象部署遍历器方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一种可行的方案,使用了generator</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">objectEntries</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> propKeys = <span class="built_in">Object</span>.keys(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> propKey <span class="keyword">of</span> propKeys)&#123;</span><br><span class="line">        <span class="keyword">yield</span> [propKey, <span class="keyword">this</span>[propKey]];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> jane = &#123;<span class="attr">first</span>: <span class="string">'jane'</span>, <span class="attr">last</span>: <span class="string">'Doe'</span>&#125;;</span><br><span class="line">jane[<span class="built_in">Symbol</span>.iterator] = objectEntries;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key, value] <span class="keyword">of</span> jane)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value);<span class="comment">//first: jane //last: Doe</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>遍历器接口被<strong>使用的场景</strong></p><ol><li>数组,Set的解构赋值</li><li>扩展运算符(…) 数组,字符串,Set,Map</li><li>yield*, 会调用后面跟的数据结构的遍历器接口</li><li>接受数组作为参数的场合<ul><li><strong>for … of 最常用的遍历方式之一</strong></li><li>Array.from()</li><li>Map(),Set(),WeakMap(),WeakSet() 注意此处说的是构造函数, WeakMap和WeakSet本身是不可遍历的.</li><li>Promise.all()/race()</li></ul></li></ol><h3 id="for-…-of-循环-利用了iterator-推荐"><a href="#for-…-of-循环-利用了iterator-推荐" class="headerlink" title="for … of 循环(利用了iterator,推荐)"></a>for … of 循环(利用了iterator,推荐)</h3><p>优点: 写法简单, 且可以配合break, continue, return 使用,提供了遍历所有数据结构的统一操作接口(iterator)</p><h3 id="for-…-in-循环"><a href="#for-…-in-循环" class="headerlink" title="for … in 循环"></a>for … in 循环</h3><p>优点: 写法简单</p><p>缺点: 数组的键名是数字,但会转成字符串; 数组上的属性也会被遍历出来, 甚至包括原型链上的键(这通常是不被期待的), 某些情况下会以任意顺序遍历键名</p><p>支持的数据结构</p><ol><li>数组(<strong>不建议使用</strong>, 见上面缺点)</li><li>对象</li></ol><h3 id="原始for循环"><a href="#原始for循环" class="headerlink" title="原始for循环"></a>原始for循环</h3><p><strong>优点:</strong> 操作可控,直观</p><p><strong>缺点:</strong> 写法繁琐</p><p>支持的数据结构</p><ol><li>数组</li><li>字符串(<strong>不建议使用</strong>, 无法正确识别码点超过\uFFFF的字符!)</li></ol><h3 id="forEach循环"><a href="#forEach循环" class="headerlink" title="forEach循环"></a>forEach循环</h3><p>优点: 写法简单</p><p>缺点: 无法中途跳出循环</p><p>支持的数据结构</p><ol><li>数组</li><li>Map</li><li>Set</li></ol></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束,如有斧正请邮件kur1kosheng@gmail.com-------------</div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/javaScript/" rel="tag"><i class="fa fa-tag"></i> javaScript</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2020/03/31/ES6%E4%B8%BA%E6%AD%A2-%E6%89%80%E6%9C%89%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F/" rel="next" title="ES6为止, 所有的遍历方式"><i class="fa fa-chevron-left"></i> ES6为止, 所有的遍历方式</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/image.jpg" alt="kur1ko Sheng"><p class="site-author-name" itemprop="name">kur1ko Sheng</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/%7C%7C%20archive"><span class="site-state-item-count">4</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">2</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">2</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/kur1ko" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#遍历器遍历-Iterator-一般不直接用"><span class="nav-number">1.</span> <span class="nav-text">遍历器遍历(Iterator)(一般不直接用)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-…-of-循环-利用了iterator-推荐"><span class="nav-number">2.</span> <span class="nav-text">for … of 循环(利用了iterator,推荐)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-…-in-循环"><span class="nav-number">3.</span> <span class="nav-text">for … in 循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原始for循环"><span class="nav-number">4.</span> <span class="nav-text">原始for循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#forEach循环"><span class="nav-number">5.</span> <span class="nav-text">forEach循环</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">kur1ko Sheng</span></div><div class="theme-info"><div class="powered-by"></div> <span class="post-count">博客全站共2.9k字</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script></body></html>